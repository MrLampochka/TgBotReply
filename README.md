# VK Telegram 

### Описание
Многофункциональный, написанный одной ногой на питоне бот для пересылки сообщений из ВК в Telegram и наоборот.

Исходный код был позаимствовал и немного доработан:
https://github.com/Whiletruedoend/Vk-to-telegram-transfer-bot

### Возможности:
  - Пересылка текстовых сообщений из ВК в Telegram и наоборот
  - Пересылка изображений/стикеров/аудио/видео/документов/голосовых сообщений (Только из ВК в Telegram!)
  - Пересылка стикеров из Telegram в ВК
  - Поддержка личных сообщений и групповых чатов
  - Удобный файл конфигурации
  - Поддержка прокси для Telegram

### Установка
Для работы вам понадобиться:

- [Python 3](https://www.python.org/downloads/)
-  Git клиент ( я использую [Git Bash](https://git-scm.com/download/win ) )
- Аккаунт в ВК ( будем использовать в качестве ботинка )
- Бот в Telegram ( можно создать через [BotFather](https://t.me/BotFather) )
- (При желании) Хостинг, на котором будет работать бот (Например, PythonAnywhere)

Для начала займёмся установкой скрипта. Открываем Git и пишем:

```sh
git clone https://github.com/Whiletruedoend/Vk-to-telegram-transfer-bot
cd Vk-to-telegram-transfer-bot
pip3 install -r requirements.txt
или же (если вдруг не сработало):
python -m pip install -r requirements.txt
```

### Настройка бота
Все настройки будут производиться в файле config.py
Для начала откроем его и вставим логин и пароль от аккаунта в ВК (таблицы ‘vk_login’ и ‘vk_password’ ) и токен бота в Telegram’e ( таблица ‘telegram_token’ )

Далее мы будем настраивать чат для передачи сообщений. Для этого необходимо:
1)	Создать чат в Telegram’e
2)	Добавить туда бота
3)	Написать ‘Дай ID’, после чего бот должен написать вам ID чата
4)	Взять ID чата/пользователя, откуда/куда будут пересылаться сообщения
5)	Добавить в конфиг поля:
```sh
	setCell( "vk_<chatid/userid>", '-<telegramid>' )
	setCell( "t_-<telegramid>", '<chatid/userid>' )
```
, где <chatid/userid> - локальный ID чата для бота (!), либо ID пользователя, с которым будет связан чат в Telegram’e, а -<telegramid> - тот самый ID чата, который мы получили, прописав команду ‘Дай ID’. Отбратите внимание, что -<telegramid> всегда идёт с минусом в начале, кроме того, знаки <> прописывать не нужно!
‘Живой пример’:

```sh
	setCell( "vk_1", '-249416176' )
	setCell( "t_-249416176", '1' )
```
Здесь мы видим, что для аккаунта ВК из чата 1 все сообщения будут пересылаться в чат '-249416176' в Telegram, и наоборот. Надеюсь, всё понятно, по какому принципу нужно всё делать.

### Важно!

У бота в Telegram должен быть:

1) Отключен режим приватности ( Bot Father —> Ваш бот —> Bot Settings —> Group Privacy —> Turn **Off** )
2) Включена поддержка групповых чатов ( Bot Father —> Ваш бот —> Bot Settings —> Allow groups? Turn groups **On** )
	
### Обратная связь
Если у вас есть какие-то идеи или собственные наработки, или же просто вопросы по поводу работоспособности кода, то вы всегда можете обратиться ко мне по следующим адресам:
#### Автор данного проекта:
- https://t.me/mr_lampochka
	
#### Автор позаимствованного исходного проекта:
- [Matrix](https://matrix.to/#/@whiletruedoend:matrix.org)
- Jabber: whiletruedoend@gensokyo.tk
